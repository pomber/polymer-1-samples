<link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/paper-styles/color.html">

<dom-module id="rpr-bar-chart">
  <template>
  <style include="iron-flex iron-flex-alignment">
    .chart {
      width: 100%;
      height: 140px;
      font-size: 0;
      border-bottom: 1px solid #d6d9dc;
    }

    .bar {
      background-color: var(--paper-light-green-200);
      width: 15px;
      margin: 0 2px;
      bottom: 0;
    }
    
  </style>
    <div class="chart layout horizontal end end-justified">
      <template is="dom-repeat" items="[[data]]">
        <div class="bar" style$="height: {{_getPercentage(item)}}%"></div>
      </template>
    </div>
  </template>

  <script>
    Polymer({

      is: 'rpr-bar-chart',

      properties: {
        data: Array,
        top: Number
      },

      _getPercentage: function(item) {
        return 100 * item.x / this.top;
      }

    });
  </script>
</dom-module>